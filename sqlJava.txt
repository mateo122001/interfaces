package sql;
import java.sql.Connection;
import java.sql.DriverManager;
import javax.swing.JOptionPane;

public class conexionsql {
    Connection conn =null;
    String url="jdbc:postgresql://localhost:5432/aseguradoraP";
    String usuario="postgres";
    String clave="321108sm";
    public Connection conectar(){
        try{
            Class.forName("org.postgresql.Driver");  // esto es para que los drivers funcionen 
            conn=DriverManager.getConnection(url,usuario,clave);
        }catch(Exception e){
            JOptionPane.showMessageDialog(null, "Error al conectar"+e,"Error",JOptionPane.ERROR_MESSAGE);
        }
        return conn;
    
}
}






package sql;
import java.sql.Connection;
import javax.swing.JOptionPane;
public class crudsql {
    conexionsql con=new conexionsql();

public void insertar(String nombre, String apellido, String cedula, String direccion, String telefono, String contratacion ){
try {
    Connection conexion=con.conectar();
    java.sql.Statement st=conexion.createStatement(); // esta linea nos permite ejecutar sentencias sql
    String sql="insert into Empleado(Nombre_Empleado,Apellido_Empleado,Cedula_Empleado,Direccion_Empleado,Telefono_Empleado,Fecha_Contratacion) values('"+nombre+"','"+apellido+"','"+cedula+"','"+direccion+"','"+telefono+"','"+contratacion+"');";
st.execute(sql);
st.close();
conexion.close();
JOptionPane.showMessageDialog(null, "Ingreso exitoso","Message",JOptionPane.INFORMATION_MESSAGE);
}catch(Exception e){
            JOptionPane.showMessageDialog(null, "El registro no se guardo"+e,"Message",JOptionPane.ERROR_MESSAGE);
            }
}
}







package vistas;

import java.text.SimpleDateFormat;
import java.util.Date;
import sql.crudsql;

/**
 *
 * @author Mateo PÃ¡rraga
 */
public class guardar extends javax.swing.JFrame {

    /**
     * Creates new form guardar
     */
    public guardar() {
       
        initComponents();
         txtfecha.setText(fechaA());
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    
    public static String fechaA(){
        Date fecha=new Date();
        SimpleDateFormat Formatofecha=new  SimpleDateFormat("dd/MM/YYY");
        return Formatofecha.format(fecha);
    }
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        txtnombre = new javax.swing.JTextField();
        txtapellido = new javax.swing.JTextField();
        txtcedula = new javax.swing.JTextField();
        txtdireccion = new javax.swing.JTextField();
        txttelefono = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        btnguardar = new javax.swing.JButton();
        jLabel1 = new javax.swing.JLabel();
        txtfecha = new javax.swing.JTextField();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jLabel2.setText("Nombre");

        jLabel3.setText("Apellido");

        jLabel4.setText("N.Cedula");

        jLabel6.setText("Direccion");

        jLabel8.setText("Telefono");

        btnguardar.setText("Guardar");
        btnguardar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnguardarActionPerformed(evt);
            }
        });

        jLabel1.setText("Fecha:");

        txtfecha.setText("DD/MM/AA");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap(33, Short.MAX_VALUE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel6)
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                        .addComponent(jLabel3)
                        .addComponent(jLabel4)
                        .addComponent(jLabel2))
                    .addComponent(jLabel8)
                    .addComponent(jLabel1))
                .addGap(62, 62, 62)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(txtfecha, javax.swing.GroupLayout.PREFERRED_SIZE, 218, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addComponent(txtnombre)
                        .addComponent(txtapellido)
                        .addComponent(txtcedula)
                        .addComponent(txtdireccion)
                        .addComponent(txttelefono, javax.swing.GroupLayout.DEFAULT_SIZE, 218, Short.MAX_VALUE)))
                .addGap(58, 58, 58))
            .addGroup(layout.createSequentialGroup()
                .addGap(169, 169, 169)
                .addComponent(btnguardar)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(71, 71, 71)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtnombre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel2))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtapellido, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel3))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtcedula, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel6)
                    .addComponent(txtdireccion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel8)
                    .addComponent(txttelefono, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtfecha, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel1))
                .addGap(37, 37, 37)
                .addComponent(btnguardar)
                .addContainerGap(53, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>                        
crudsql obj=new crudsql ();
    private void btnguardarActionPerformed(java.awt.event.ActionEvent evt) {                                           
     obj.insertar(txtnombre.getText(),txtapellido.getText(),txtcedula.getText(),txtdireccion.getText(),txttelefono.getText(),txtfecha.getText());
    } 






package vistas;

public class arranque {

    public static void main(String[] args) {
      guardar abrir=new guardar();
      abrir.setVisible(true);
      abrir.setLocationRelativeTo(null);
    }
    
}












